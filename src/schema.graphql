# import * from "./generated/prisma.graphql"

type SuccessMessage {
  message: String
}

input IssueInput {
  id: String!
}

type Query {
  info: String!
  divisions: [Division!]!
  division(where: DivisionWhereUniqueInput!): Division
  dailyReports: [DailyReport!]!
  dailyReport(where: DailyReportWhereUniqueInput!): DailyReport
  issues: [Issue!]!
  issue(where: IssueWhereUniqueInput!): Issue
  me: User!
  userReports: [DailyReport!]!
}

type Mutation {
  #  Division CRUD
  createDivision(where: DivisionCreateInput!): Division!
  updateDivision(id: ID!, name: String, description: String): Division!
  deleteDivision(id: ID!): Division

  #  DailyReport CRUD
  createDailyReport(
    emotion: String
    title: String!
    achievement: String
    plan: String!
    description: String
    comment: String
    issues: [IssueInput!]
  ): DailyReport!

  updateDailyReport(
    id: ID!
    emotion: String
    title: String
    achievement: String
    plan: String
    description: String
    comment: String
    issues: [IssueInput!]
  ): DailyReport!

  deleteDailyReport(id: ID!): DailyReport

  #  Issue CRUD
  createIssue(name: String!, description: String): Issue!
  updateIssue(id: ID!, name: String, description: String): Issue!
  deleteIssue(id: ID!): Issue

  #  Google Authentication
  authenticate(googleCode: String!): AuthPayload
  signout: SuccessMessage
}

type AuthPayload {
  user: User!
}
